<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>行先リスト</title>
<style>
  body {
    font-family: sans-serif;
    margin: 20px;
    max-width: 700px;
    font-size: 20px; /* 全体を大きめに */
  }
  #nextDisplay {
    font-size: 3.5em;
    font-weight: bold;
    margin-bottom: 1em;
    border-bottom: 4px solid #000;
    padding-bottom: 0.2em;
  }
  #places {
    user-select: none;
  }
  .place {
    border: none;
    padding: 0.8em 0;
    margin-bottom: 0.5em;
    cursor: pointer;
    border-bottom: 1px solid #ccc;
    font-size: 1.4em; /* リスト項目を2段階ほど大きく */
  }
  .todos {
    display: none !important;
  }
  .edit-controls button {
    margin-left: 0.5em;
  }
  #editBtn {
    font-size: 1em;
    padding: 0.3em 0.8em;
    margin-bottom: 1em;
  }
</style>
</head>
<body>

<button id="editBtn">編集モード ON</button>
<div id="nextDisplay">Next: -</div>
<div id="places"></div>

<script>
  let data = [
    {name:"渋谷", todos:["カフェで休憩","映画館行く"], hidden:false},
    {name:"新宿", todos:["ショッピング","食事"], hidden:false},
    {name:"秋葉原", todos:["電気街散策","メイド喫茶"], hidden:false},
  ];

  let editing = false;

  document.getElementById("editBtn").addEventListener("click", () => {
    editing = !editing;
    document.getElementById("editBtn").textContent = editing ? "編集モード OFF" : "編集モード ON";
    render();
  });

  function render() {
    const placesDiv = document.getElementById("places");
    placesDiv.innerHTML = "";

    const visible = data.filter(d => !d.hidden);
    const nextPlace = visible.length ? visible[0] : null;

    document.getElementById("nextDisplay").textContent = nextPlace ? `Next: ${nextPlace.name}` : "Next: -";

    data.forEach((place, index) => {
      if (place === nextPlace && !editing) return;

      const div = document.createElement("div");
      div.className = "place";

      const label = document.createElement("span");
      label.textContent = place.name;
      div.appendChild(label);

      if (editing) {
        const controls = document.createElement("span");
        controls.className = "edit-controls";

        const check = document.createElement("input");
        check.type = "checkbox";
        check.checked = !place.hidden;
        check.onchange = () => {
          place.hidden = !check.checked;
          render();
        };

        const up = document.createElement("button");
        up.textContent = "↑";
        up.onclick = () => {
          if (index > 0) {
            [data[index - 1], data[index]] = [data[index], data[index - 1]];
            render();
          }
        };

        const down = document.createElement("button");
        down.textContent = "↓";
        down.onclick = () => {
          if (index < data.length - 1) {
            [data[index + 1], data[index]] = [data[index], data[index + 1]];
            render();
          }
        };

        controls.appendChild(check);
        controls.appendChild(up);
        controls.appendChild(down);
        div.appendChild(controls);
      }

      placesDiv.appendChild(div);
    });
  }

  render();
</script>

</body>
</html>
